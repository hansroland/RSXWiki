---
toc: no
...

# Install GHC and get rid of the Debian GHC packages

This page explains how to install GHC and have an installation without binaries from the Debian distribution.

To build GHC, you need a GHC compiler, so we have to start with the binaries from Debian distribution!

### Install GHC binaries

~~~
sudo apt-get install haskell-platform
~~~

### Compile your own GHC

* Install the newest GHC version from the [Installation Scripts](InstallationScripts/InstallationScripts) page.

* Install a cabal library (again use [Installation Scripts](InstallationScripts/InstallationScripts) page).

### Compile additional Haskell Software

In ~/Software/ghc-X.Y.Z/bin do the following:

* copy the *cabal* binary from the previous release
* Run the follwoing commands: 

~~~
./cabal new-update
./cabal new_install --symlink-bindir=.  cabal-install

./cabal new_install --symlink-bindir=.  alex
./cabal new_install --symlink-bindir=.  cpphs
./cabal new_install --symlink-bindir=.  happy
./cabal new_install --symlink-bindir=.  hlint
./cabal new_install --symlink-bindir=.  pandoc
./cabal new_install --symlink-bindir=.  ghc-mod
./cabal new_install --symlink-bindir=.  stylish-haskell
~~~

If there is an error like *cabal: ghc-pkg dump failed:* and *package.db: getDirectoryContents:openDirStream: does not exist *
then create one with:

    echo "" | cabal new-repl -w ghc-X.Y.Z --build-dep fail

### Get rid of the Debian binaries

~~~
sudo apt-get remove haskell-platform
sudo apt-get autoremove
~~~

### (Re-)Install additional compilers and utilities

~~~
sudo apt-get git
sudo apt-get make
sudo apt-get automake
sudo apt-get autoconf
sudo apt-get libtool
sudo apt-get make
sudo apt-get libgmp-dev
sudo apt-get ncurses-dev
sudo apt-get g++
sudo apt-get python
sudo apt-get bzip2
~~~
